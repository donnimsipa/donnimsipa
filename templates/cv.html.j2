<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>{{ name }} â€” Curriculum Vitae</title>
    <style>
      @page {
        size: A4;
        margin: 15mm;
      }

      :root {
        color: #0f172a;
        font-family: 'Inter', 'Segoe UI', sans-serif;
        font-size: 11pt;
        line-height: 1.5;
      }

      body {
        margin: 0;
        padding: 12mm 15mm;
      }

      h1, h2, h3 {
        margin: 0;
        font-weight: 650;
        color: #0f172a;
      }

      h1 {
        font-size: 24pt;
        text-transform: uppercase;
        letter-spacing: 2px;
      }

      h2 {
        margin-top: 24px;
        border-bottom: 2px solid #0ea5a4;
        padding-bottom: 6px;
        font-size: 13pt;
        text-transform: uppercase;
        letter-spacing: 1.6px;
      }

      h3 {
        font-size: 11pt;
      }

      p {
        margin: 6px 0;
      }

      ul {
        margin: 8px 0 0 18px;
        padding: 0;
      }

      .header {
        display: block;
      }

      .contact-inline {
        margin-top: 6px;
        font-size: 9pt;
        color: #334155;
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 8px;
      }

      .contact-inline .item {
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .contact-inline a {
        color: inherit;
        text-decoration: none;
      }

      .contact-inline .divider {
        color: #94a3b8;
      }

      .section {
        margin-top: 24px;
      }

      .pill {
        display: inline-block;
        padding: 2px 8px;
        margin: 2px 4px 2px 0;
        background: #0ea5a4;
        color: #f8fafc;
        border-radius: 999px;
        font-size: 9pt;
      }

      .meta {
        font-size: 10pt;
        color: #0ea5a4;
        font-weight: 600;
      }

      .subtle {
        color: #334155;
        font-size: 10pt;
      }
    </style>
  </head>
  <body>
    <div class="header">
      <h1>{{ name }}</h1>
      <p class="meta">{{ headline }}</p>
      {% set has_email = contact.email is defined and contact.email %}
      {% set has_linkedin = contact.linkedin is defined and contact.linkedin %}
      {% set has_website = contact.website is defined and contact.website %}
      {% if has_email or has_linkedin or has_website %}
        <div class="contact-inline">
          {% if has_email %}
            <span class="item"><a href="mailto:{{ contact.email }}">{{ contact.email }}</a></span>
          {% endif %}
          {% if has_linkedin %}
            {% if has_email %}<span class="divider">|</span>{% endif %}
            {% set linkedin_clean = contact.linkedin.rstrip('/') %}
            {% set linkedin_parts = linkedin_clean.split('/') %}
            {% set linkedin_label = linkedin_parts[-1] if linkedin_parts else linkedin_clean %}
            <span class="item">LinkedIn : <a href="{{ contact.linkedin }}">{{ linkedin_label }}</a></span>
          {% endif %}
          {% if has_website %}
            {% if has_email or has_linkedin %}<span class="divider">|</span>{% endif %}
            {% set website_display = contact.website.rstrip('/') %}
            <span class="item"><a href="{{ contact.website }}">{{ website_display }}</a></span>
          {% endif %}
        </div>
      {% endif %}
    </div>

    {% if about %}
      <div class="section">
        <h2>About</h2>
        <p>{{ about }}</p>
      </div>
    {% endif %}

    {% if experience %}
      <div class="section">
        <h2>Experience</h2>
        {% for job in experience %}
          <div style="margin-top: 12px;">
            <h3>{{ job.company }}</h3>
            <div class="meta">{{ job.role }}</div>
            <div class="subtle">{{ job.period }}</div>
            {% if job.bullets %}
              <ul>
                {% for bullet in job.bullets %}
                  <li>{{ bullet }}</li>
                {% endfor %}
              </ul>
            {% endif %}
          </div>
        {% endfor %}
      </div>
    {% endif %}

    {% if projects %}
      <div class="section">
        <h2>Projects</h2>
        {% for project in projects %}
          <div style="margin-top: 10px;">
            <h3>{{ project.title }}</h3>
            {% if project.highlight %}
              <p class="subtle">{{ project.highlight }}</p>
            {% endif %}
            {% if project.link %}
              <p class="subtle">Link: {{ project.link }}</p>
            {% endif %}
            {% if project.links %}
              <p class="subtle">
                {% for link in project.links %}
                  <span class="pill">{{ link.text }}</span>
                {% endfor %}
              </p>
            {% endif %}
          </div>
        {% endfor %}
      </div>
    {% endif %}

    {% if skills %}
      <div class="section">
        <h2>Skills</h2>
        {% for group, items in skills.items() %}
          <div style="margin-top: 8px;">
            <h3>{{ group.replace('_', ' ') | title }}</h3>
            <p>
              {% for item in items %}
                <span class="pill">{{ item }}</span>
              {% endfor %}
            </p>
          </div>
        {% endfor %}
      </div>
    {% endif %}

    {% if certifications %}
      <div class="section">
        <h2>Certifications</h2>
        <ul>
          {% for cert in certifications %}
            <li>{{ cert }}</li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}
  </body>
</html>
